<!DOCTYPE html>
<html>
  <head>
    <title>great</title>
    <link rel="icon"href="icon.png.png">
  </head>
  <body>
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>Ghost AI Maze</title>
<style>
    body {
        margin: 0;
        background: black;
        overflow: hidden;
    }
    canvas {
        display: block;
        margin: 0;
        padding: 0;
    }
</style>
</head>
<body>
<canvas id="game"></canvas>

<script>

// =========================
//  Canvas + 自動滿版設定
// =========================
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resize();
window.onresize = resize;

// =========================
//      迷宮資料（可改）
// =========================
const maze = [
"WWWWWWWWWWWWWWWWWWWW",
"W..................W",
"W.WWW.WWWWWWWW.WWW.W",
"W.W....W......W....W",
"W.W.WW.W.WWWW.W.WW.W",
"W...W..W..G..W.....W",
"WWWWW.WWWWWWWW.WWWWW",
"W..................W",
"WWWWWWWWWWWWWWWWWWWW"
];

const TILE = 48;

// =========================
//       玩家（鬼）資料
// =========================
let ghost = {
    x: 1,
    y: 1
};

// =========================
//       畫鬼（白色）
// =========================
function drawGhost(screenX, screenY) {
    ctx.save();
    ctx.translate(screenX + TILE/2, screenY + TILE/2);

    // head
    ctx.beginPath();
    ctx.fillStyle = "white";
    ctx.arc(0, -6, 12, 0, Math.PI * 2);
    ctx.fill();

    // body
    ctx.beginPath();
    ctx.moveTo(-14, 0);
    ctx.lineTo(-14, 16);
    ctx.lineTo(-7, 10);
    ctx.lineTo(0, 16);
    ctx.lineTo(7, 10);
    ctx.lineTo(14, 16);
    ctx.lineTo(14, 0);
    ctx.closePath();
    ctx.fill();

    ctx.restore();
}

// =========================
//       鬼的簡單AI
// =========================
function ghostAI() {
    const dirs = [
        {x:1,y:0},
        {x:-1,y:0},
        {x:0,y:1},
        {x:0,y:-1}
    ];
    const valid = dirs.filter(d => maze[ghost.y + d.y][ghost.x + d.x] !== "W");
    const choice = valid[Math.floor(Math.random() * valid.length)];
    ghost.x += choice.x;
    ghost.y += choice.y;
}

// =========================
//        主繪圖函式
// =========================
function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // 地圖左上角偏移（讓迷宮置中）
    const offsetX = (canvas.width - maze[0].length * TILE) / 2;
    const offsetY = (canvas.height - maze.length * TILE) / 2;

    for (let y = 0; y < maze.length; y++) {
        for (let x = 0; x < maze[0].length; x++) {

            let screenX = offsetX + x * TILE;
            let screenY = offsetY + y * TILE;

            // 地板（深灰）
            ctx.fillStyle = "#111";
            ctx.fillRect(screenX, screenY, TILE, TILE);

            if (maze[y][x] === "W") {
                ctx.fillStyle = "#444";
                ctx.fillRect(screenX, screenY, TILE, TILE);
            }
            else if (maze[y][x] === "G") {
                ctx.fillStyle = "#0f0";
                ctx.fillRect(screenX, screenY, TILE, TILE);
            }
        }
    }

    // 鬼
    drawGhost(offsetX + ghost.x * TILE, offsetY + ghost.y * TILE);
}

// =========================
//     遊戲主迴圈
// =========================
function loop() {
    ghostAI();
    draw();
    requestAnimationFrame(loop);
}

loop();

</script>
</body>
</html>






</script>


