<!DOCTYPE html>
<html>
  <head>
    <title>great</title>
    <link rel="icon"href="icon.png.png">
  </head>
  <body>
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>æ‡¸ç–‘åµæ¢äº’å‹•éŠæˆ²</title>
<style>
body { margin:0; padding:0; font-family:"Microsoft JhengHei",sans-serif; background:black; color:white; text-align:center; }
#bg { width:100%; height:50vh; background-size:cover; background-position:center; margin-bottom:20px; transition: opacity 1s; }
#text { font-size:20px; padding:10px 20px; line-height:1.6; }
.choice-btn, .item-btn { background:#222; border:1px solid #555; color:white; padding:10px 20px; margin:8px; cursor:pointer; border-radius:6px; font-size:18px; }
.choice-btn:hover, .item-btn:hover { background:#444; }
#items img { width:150px; margin:10px; cursor:pointer; border:2px solid #555; border-radius:6px; }
#modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); justify-content:center; align-items:center; }
#modal img { max-width:90%; max-height:90%; border:2px solid white; border-radius:6px; }
#ending { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:black; color:red; font-size:50px; justify-content:center; align-items:center; flex-direction:column; }
#ending img { width:200px; opacity:0; transition:opacity 2s; margin-top:20px; }
#restartBtn { margin-top:20px; font-size:24px; padding:10px 20px; cursor:pointer; }
</style>
</head>
<body>

<!-- èƒŒæ™¯éŸ³æ¨‚ -->
<audio id="bgm" autoplay loop>
  <source src="https://cdn.pixabay.com/download/audio/2021/09/29/audio_8e3a8d6e1c.mp3?filename=dark-ambient-11219.mp3" type="audio/mpeg">
</audio>

<!-- éŸ³æ•ˆ -->
<audio id="phoneSound"><source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_e7c7fcd8b6.mp3?filename=phone-ring-6050.mp3" type="audio/mpeg"></audio>
<audio id="paperSound"><source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c5d7e5c79b.mp3?filename=paper-flip-6051.mp3" type="audio/mpeg"></audio>
<audio id="doorSound"><source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_9a2bcb1e4a.mp3?filename=door-open-6052.mp3" type="audio/mpeg"></audio>
<audio id="writeSound"><source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_d3b9a9f1b3.mp3?filename=writing-6053.mp3" type="audio/mpeg"></audio>
<audio id="clickSound"><source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_02e2eabc8b.mp3?filename=ui-click-6054.mp3" type="audio/mpeg"></audio>

<div id="bg"></div>
<div id="text"></div>
<div id="items"></div>
<div id="choices"></div>

<!-- æ”¾å¤§åœ–ç‰‡æ¨¡æ…‹ -->
<div id="modal" onclick="this.style.display='none'"><img id="modalImg"></div>

<!-- çµå±€ -->
<div id="ending">
  <div id="endingText"></div>
  <img id="bloodImg" src="https://images.unsplash.com/photo-1565519821194-6d9baf1aee5a">
  <button id="restartBtn">é‡æ–°é–‹å§‹</button>
</div>

<script>
const scenes = {
  start:{
    img:"https://images.unsplash.com/photo-1509021436665-8f07dbf5bf1d",
    text:"ä½ çš„è¾¦å…¬å®¤æ·±å¤œï¼Œä¸€é€šé›»è©±æ‰“é€²ä¾†ï¼Œæ¡Œä¸Šæœ‰å ±ç´™ã€ä¿¡ä»¶ã€ç­†è¨˜èˆ‡é–€ã€‚",
    items:[
      {text:"ğŸ“ é›»è©±", img:null, sound:"phoneSound", info:"æœ‰äººå ±æ¡ˆï¼"},
      {text:"ğŸ“° å ±ç´™", img:"https://images.unsplash.com/photo-1573497491208-6b1acb260507", sound:"paperSound", info:"å ±ç´™é ­æ¢ï¼šç¥ç§˜å¤±è¹¤æ¡ˆ"},
      {text:"âœ‰ï¸ ä¿¡ä»¶", img:"https://images.unsplash.com/photo-1580910051070-f99b0a914c15", sound:"paperSound", info:"ä¿¡ä»¶å¯«è‘—ï¼šã€ä½ è¶Šæ¥è¿‘çœŸç›¸ï¼Œè¶Šå±éšªã€"},
      {text:"ğŸšª é–€", img:"https://images.unsplash.com/photo-1598365572954-99e4a476e6a2", sound:"doorSound", info:"é–€æ‚„æ‚„æ‰“é–‹ï¼Œé™°å½±é–ƒé..."},
      {text:"ğŸ““ ç­†è¨˜", img:"https://images.unsplash.com/photo-1506880018606-1cb7d6c15d77", sound:"writeSound", info:"ç­†è¨˜ä¸Šå¯«è‘—ç ´ç¢çš„è¨˜æ†¶èˆ‡ç·šç´¢"}
    ],
    choices:[{text:"å‡ºå»èª¿æŸ¥", next:"alley"}]
  },
  alley:{
    img:"https://images.unsplash.com/photo-1486184842419-447224e5ba44",
    text:"ä½ ä¾†åˆ°æ¡ˆç™¼å··å­ï¼Œå››å‘¨éœæ‚„æ‚„ã€‚",
    choices:[
      {text:"è¿½å½±å­", next:"hospital"},
      {text:"å›è¾¦å…¬å®¤", next:"start"}
    ]
  },
  hospital:{
    img:"https://images.unsplash.com/photo-1530018607912-eff2daa1bac7",
    text:"ä½ çŒ›ç„¶é†’ä¾†ï¼Œç™¼ç¾è‡ªå·±åœ¨ç²¾ç¥ç—…é™¢ï¼Œæˆ´è‘—æ‰‹ç’°ã€‚åŸä¾†ï¼Œä½ ä¸€ç›´åœ¨é€™è£¡ã€‚",
    choices:[
      {text:"æ¥å—çœŸç›¸", next:null, action:()=>showEnding("hospital")},
      {text:"å¦èªçœŸç›¸", next:null, action:()=>showEnding("hospital")}
    ]
  },
  success:{ // åµæ¢æˆåŠŸçµå±€ç¤ºæ„
    img:"https://images.unsplash.com/photo-1516035069371-29a1c179c5f4",
    text:"ä½ å®Œæˆäº†èª¿æŸ¥ï¼Œæ‰€æœ‰ç·šç´¢æŒ‡å‘æ­£ç¢ºæ–¹å‘ã€‚",
    choices:[
      {text:"çµæŸèª¿æŸ¥", next:null, action:()=>showEnding("success")}
    ]
  }
};

const endings = {
  hospital:{ text:"THE END", blood:true },
  success:{ text:"ä½ çœŸçš„èª¿æŸ¥å‡ºçœŸç›¸äº†å—ï¼Ÿ", blood:false }
};

function showEnding(type){
  const endingDiv=document.getElementById("ending");
  const endingText=document.getElementById("endingText");
  const bloodImg=document.getElementById("bloodImg");
  endingDiv.style.display="flex";

  endingText.innerText=endings[type].text;
  if(endings[type].blood) bloodImg.style.opacity=1;
  else bloodImg.style.opacity=0;

  document.getElementById("restartBtn").onclick=()=>{
    endingDiv.style.display="none";
    show(scenes.start);
  };
}

function show(scene){
  const bgDiv=document.getElementById("bg");
  bgDiv.style.opacity=0;
  setTimeout(()=>{ bgDiv.style.backgroundImage=`url('${scene.img}')`; bgDiv.style.opacity=1; },300);
  document.getElementById("text").innerText=scene.text;

  // ç‰©å“äº’å‹•
  const itemDiv=document.getElementById("items");
  itemDiv.innerHTML="";
  if(scene.items){
    scene.items.forEach(it=>{
      const btn=document.createElement("button");
      btn.className="item-btn";
      btn.innerText=it.text;
      btn.onclick=()=>{
        if(it.sound) document.getElementById(it.sound).play();
        if(it.img){
          document.getElementById("modalImg").src=it.img;
          document.getElementById("modal").style.display="flex";
        }
        alert(it.info);
      };
      itemDiv.appendChild(btn);
    });
  }

  // é¸é …æŒ‰éˆ•
  const choiceDiv=document.getElementById("choices");
  choiceDiv.innerHTML="";
  if(scene.choices){
    scene.choices.forEach(c=>{
      const btn=document.createElement("button");
      btn.className="choice-btn";
      btn.innerText=c.text;
      btn.onclick=()=>{
        document.getElementById("clickSound").play();
        if(c.action) c.action();
        else show(scenes[c.next]);
      };
      choiceDiv.appendChild(btn);
    });
  }

  // ç²¾ç¥ç—…é™¢èƒŒæ™¯éŸ³æ¨‚åˆ‡æ›
  if(scene===scenes.hospital){
    const bgm=document.getElementById("bgm");
    bgm.src="https://cdn.pixabay.com/download/audio/2021/10/07/audio_dfc7f1f0cd.mp3?filename=dark-horror-ambient-11225.mp3";
    bgm.play();
  }
}

// é–‹å§‹éŠæˆ²
show(scenes.start);
</script>

</body>
</html>


</script>


